<!doctype html>
<html>

<head>
    <!--Page Info-->
    <title>Sampling Rates</title>
    <!--css link-->
    <link rel="stylesheet" href="https://manglekuo.com/i-v/styles.css?v=2">
    <!--Required JS resources--> <!--NB: better to have resources before the main body but still works even if they are not-->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src=script/numeric/src/numeric.js></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.15.0/math.min.js"></script>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

    <script src="./p5/p5.min.js"></script>
    <script src="./p5/addons/p5.dom.min.js"></script>
    <script src="./p5/addons/p5.sound.min.js"></script>

    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
</head>
<body>

    <div class="container">

        <h1>
            Sampling Rates
        </h1> 

        <ul class="tab-nav">
            <li><a class="button active" href="#basis">Introduction</a></li><!--Default: set using 'active'-->
            <li><a class="button" href="#area">Nyquist Rate</a></li>
            <li><a class="button" href="#maths">Proof</a></li>
        </ul>
        
        <div class="row">
            <div class="tab-content">
                <div class="tab-pane active" id="basis">
                    <h3>
                        Introduction
                    </h3>
                    <p>
                        In the real world, functions are continuous meaning that they have an infinite number of values. 
                        However, computers are digital machines that function using discrete values. 
                        This means that it is impossible for a computer to understand continuous functions like sinusoids since continuous functions have an infinite number of discrete values.
                    </p>
                    <p>
                        In order for computers to work with continuous signals, a computer must turn them into discrete signals by using an <i>Analogue to Digital Converter (ADC)</i>.
                        An ADC works by <i>sampling</i> or taking snapshots of the curves of the incoming signal at different time points.
                    </p>

                    <div id = 'ADCanimation'></div>
                    

                </div>
            
            
                <div class="tab-pane" id="area">
                    <div>
                        <h3>
                            Nyquist Rate
                        </h3>
                        <p>
                            If you want to get a good representation of a continuous signal using samples, then you must sampled it at a rate that is high enough so that the signal can be reconstructed.
                            If a signal is sampled too low then it cannot be cannot be reconstructed properly and the output signal won't be similar to the input signal.
                        </p>
                        <p>
                            Harry Nyquist found that the minimum sample rate to successfully reconstruct a signal from discrete samples was twice as high as the highest frequency of the signal.
                            The Nyquist Rate however only reproduces the <i>frequency</i> of the signal, not the <i>amplitude</i>. 
                            This is because the amplitude of the signal depends on the phase shift between the sampled signal and the original signal.
                            Once the number of samples per cycle is high enough, the signal frequency and amplitude can be seen easily and the signal can be faithfully recreated.
                        </p>
                        <p>
                            Try changing the number of samples using the slider and compare the sampled signal with the original signal. 
                        </p>
                    </div>

                    <div>
                        <h5 style="border-left: solid 5px rgb(219,209,0); padding-left: 8px;">Sampling a Sine Wave:</h5><!--Just Text-->
                        <!-- Checkbox
                        <label class="checkbox">
                            <input type="checkbox" id="curvedOutput" value="off"/><span for="checkbox"></span>
                        </label>
                        <label class="checkboxTitle">Show Smooth Recontruction</label> -->
                        <label class="sliderTitle">Samples per cycle:&nbsp;<!--rho-->
                            <span id="controllerADisplay" data-unit="">1</span>&nbsp; <!--default: 0-->
                        </label>
                        <label class="slider">
                            <input id="controllerA" class="inputs" type="range" value="1" min="1" max="8" step="0.5"/>
                            <span class="sliderMin">0</span><span class="sliderMax">8</span>
                        </label>

                        <div id='graph' style="width:1000px; height:475px;"></div>
                        <p id="chatAboutSignal">
                            At a sample rate 1 time per cycle, the reconstructed signal is a straight line instead of a sine wave. 
                        </p>
                        <p>
                            Whilst some of the signals sampled at above twice per sample may not look completely similar to sinusoids, since they are repeating periodically, the shape of the sinusioid can be found easily by monitoring enough samples.
                            The closer to twice the signal frequency the sample rate is, the longer the time needed to get a good reconstruction of the signal.
                            This is due to the noise and complex conjugate images in the frequency spectrum that need to be ignored.
                        </p>
                        <p>
                            Since any continuous signal can be represented using combinations of sine waves, this sampling technique can be extended to any signal where the Nyquist Rate is twice the frequency of the highest frequency sine wave.
                        </p>
                    </div>
                </div>
                
                <div class="tab-pane" id="maths">
                    <div>
                        <h3>
                            Proof of the Shannon-Nyquist Sampling Theorem
                        </h3>
                        <p>
                            This is proof that sampling a signal at a twice its maximum frequency \(f_s=2B\) is enough to fully reconstruct the orginal signal \(x(t)\).
                        </p>
                        <p>
                            
                            Let \(X(\omega)\) be the frequency spectrum of \(x(t)\). The frequency spectrum is the set of frequencies that make up \(x(t)\). That means that \(x(t)\) is the inverse Fourier Transform of \(X(\omega)\):
                            \[
                                x(t)= \frac{1}{2\pi}\int_{-\infty}^{\infty}X(\omega)e^{j\omega t} \,d \omega
                            \]

                            Since the frequency of \(X(\omega)\) is zero outside of \(-B\) to \(B\) (it is band limited), this can be rewritten:

                            \[
                                x(t)= \frac{1}{2\pi}\int_{-2\pi B}^{2\pi B}X(\omega)e^{j\omega t} \,d \omega
                            \]

                            To show what the signal will be if we use a sample rate of \(f_s=2B\), we let \(t = \frac{n}{2B}\). In this case we obtain:
                            \[
                                x\left(\frac{n}{2B}\right)= \frac{1}{2\pi}\int_{-2\pi B}^{2\pi B}X(\omega)e^{j\omega \frac{n}{2B}} \,d \omega
                            \]
                        </p>
                        <p>
                            Now we can see that on the left are values of \(x ( t ) \) at the sampling points whilst the term on the right is the \(n^{th}\) coefficient in a Fourier-series expansion of the function \(X ( \omega )\) where \(-B\) to \(B\) is a fundamental period. 
                        </p>
                        <p>    
                            This means that the values of the samples \(x\left(\frac{n}{2B}\right)\) determine the Fourier coefficients in the series expansion of \( X(\omega)\).
                        </p>
                        <p>    
                            Thus they determine \( X(\omega)\) since \( X(\omega)\) is zero for frequencies greater than \(B\), and for lower frequencies \( X(\omega)\) is determined if its Fourier coefficients are determined. But \( X(\omega)\) determines the original function \(x(t)\) completely, since a function is determined if its spectrum is known. Therefore the original samples determine the function \(x(t)\) completely.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--THE BRAINS-->
    <script src=script/ADC.js></script>
    <script src=script/objects.js></script>
    <script src=script/sampleRate.js></script>
</body>

</html>
